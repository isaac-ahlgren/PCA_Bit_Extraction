#include <stdio.h>
#include "pca_wrapper.h"
#include "threaded_pca_calc.h"

#define MAX_THREAD 10

void pca_shifted_calcs(float* buf, int vec_len, int vec_num, int eig_num, int max_shift, float* pca_samples, float* eig_vectors, int* convergence) {
    threaded_calc_pca(buf, vec_len, vec_num, eig_num, max_shift, MAX_THREAD, pca_samples, eig_vectors, convergence);
}

/*
int main() {

    float data[] = {0.5122949680028298, 
0.37870342289350034, 
0.7566399668125806, 
0.859989281442059, 
0.32325079954525304, 
0.7711726326743397, 
0.27422577473957055, 
0.14421005221907468, 
0.8267705897337657, 
0.8419142917890685, 
0.6341294843558098, 
0.10372513602249, 
0.38859025865279695, 
0.9156810662399871, 
0.031060431036383895, 
0.1407133039593117, 
0.8586574482540789, 
0.13922840662223135, 
0.6603530668734412, 
0.4828741141596645, 
0.9685735877529015, 
0.09087568753969788, 
0.7450634960806312, 
0.8049134680248977, 
0.578391924526981, 
0.9736214147018973, 
0.8609056815320179, 
0.5053165366452598, 
0.6168639248121605, 
0.8792623604452479, 
0.7199400306798853, 
0.5489963483598058, 
0.76725334138036, 
0.46271379352094155, 
0.41784114979235, 
0.018880171393878875, 
0.43912364559586003, 
0.09945610036289065, 
0.9167312639528994, 
0.939033482495932, 
0.9371529248386907, 
0.5385982050275631, 
0.8305138905386681, 
0.21606798359090618, 
0.5093570325491208, 
0.8039714170603797, 
0.11884062187331534, 
0.8633733060761437, 
0.8008455099356917, 
0.08390560730332941, 
0.17205372087368576, 
0.7321443212234018, 
0.2237692837894555, 
0.7928995545949072, 
0.2772873976933776, 
0.9997869129411535, 
0.15270428945692516, 
0.0648810599250289, 
0.39908567383255267, 
0.7180372221474726, 
0.11286091497308437, 
0.48613132706304485, 
0.3645641361826849, 
0.8849827732074181, 
0.707297571748697, 
0.6349629674010212, 
0.666118794819928, 
0.29881683955874216, 
0.4465854747455309, 
0.7637462955741579, 
0.24632691764329595, 
0.6365697367764924, 
0.1388643484289077, 
0.011487001590503199, 
0.867696643033678, 
0.04102951158529944, 
0.2931527654556212, 
0.6125976105796254, 
0.6790971735150764, 
0.446135683471634, 
0.3249287263239211, 
0.40434776912576775, 
0.01737496731305843, 
0.8541298192942964, 
0.34599277132272244, 
0.9149157377342347, 
0.7142766963721466, 
0.18669991481791592, 
0.7580008083320874, 
0.310769775167711, 
0.6935891567763938, 
0.2735661407913038, 
0.14974004370300598, 
0.5987878291682505, 
0.4906380175387992, 
0.8971680012126898, 
0.8328145139111103, 
0.8127874652992675, 
0.03269548700440206, 
0.18536113772264362};
   
   int vec_num = 4;
   int vec_len = 16;
   int max_shift = 10;
   int eig_vecs = 4;
   float* eig_vectors = malloc(sizeof(float)*9*4*10);
   float* pca_samples = malloc(sizeof(float)*4*4*10);
   int* convergence = malloc(sizeof(int)*4*10);
   pca_shifted_calcs(data, vec_len, vec_num, eig_vecs, max_shift, pca_samples, eig_vectors, convergence);
}*/
